---
layout:     post                    # 使用的布局（不需要改）
title:       数据加密                   # 标题 
subtitle:                           #副标题
date:       2020-03-24              # 时间
author:     ONLYUNIVERSE            # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    C#
---

### 概念

#### 编码

将字符序列转化为字节序列的过程

### Encoding类

```C#
using System.Text;

Encoding.GetEncodings() //返回一个数组
```

### 编码实例

```C#
using System;
using System.Text;

namespace _20200330
{
    class Program
    {
        static void Main(string[] args)
        {
            foreach (var i in Encoding.GetEncodings())
            {
                Encoding en1 = i.GetEncoding();
                Console.WriteLine("编码名称:{0,-18},编码描述:{1}",i.Name,en1.EncodingName);
            }
            string s1;
            s1=Console.ReadLine();
            Encoding en = Encoding.ASCII;
            byte[] bytes = en.GetBytes(s1);
            Console.WriteLine(BitConverter.ToString(bytes));
            Encoding en2 = Encoding.Unicode;
            byte[] bytes1 = en2.GetBytes(s1);
            Console.WriteLine(BitConverter.ToString(bytes1));
        }
    }
}

```

### 文件的读取实例

```C#
using System;
using System.IO;
using System.Text;
namespace 20200331
{
    class Program
    {
        static void Main(string[] args)
        {
            FileStream fs =new FileStream("1.txt",FileMode.OpenOrCreate,FileAccess.ReadWrite);//构造一个文件流
            //在Debug目录下新建一个1.txt
            FileStream fs2 =new FileStream("2.txt",FileMode.Create,FileAccess.ReadWrite);//构造另一个文件流
            byte[] buffer= new byte[1024];//构造缓冲区
            int num =fs.Read(buffer,0,buffer.Length);//从0位置开始读取buffer.length长度,将文件实际读取的长度赋给mum
            fs2.Write(buffer,0,num);//将缓冲区中的数据流写入另一文件//此时文件位指针fs2.Position不断后移,文件的读取从指针指向的位置进行
            fs2.Close();
            String str =Encoding.UTF8.GetString(buffer,0,num);//将buffer从0位置开始解码mum个位置
            fs.Close();//关闭文件
            Console.WriteLine(str);
        }
    }
}
```

### StreamReader和StreamWriter类

```C#
using System;
using System.IO;
using System.Text;
namespace 20200407
{
    class Program
    {
        static void Main(string[] args)
        {
            FileStream fs = new FileStream("1.txt",FileMode.Open,FileAccess.Read);//构造一个文件流
            StreamReader sr= new StreamReader(fs);
            String str=sr.ReadToEnd();//全部读取
            fs.Close();
            sr.Close();
        }
    }
}
```